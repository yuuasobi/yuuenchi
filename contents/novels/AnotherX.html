<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnotherX - å›³æ›¸é¤¨</title>
    <link rel="icon" type="image/png" href="../../source/è¦³è¦§è»Šãƒ•ã‚¡ãƒ“ã‚³ãƒ³.png">
    <link rel="shortcut icon" type="image/png" href="../../source/è¦³è¦§è»Šãƒ•ã‚¡ãƒ“ã‚³ãƒ³.png">
    <link rel="apple-touch-icon" href="../../source/è¦³è¦§è»Šãƒ•ã‚¡ãƒ“ã‚³ãƒ³.png">
    <link rel="stylesheet" href="../../style.css">
    <link rel="stylesheet" href="anotherx-style.css">
</head>
<body>
    <script src="../../header.js"></script>
    
    <header class="library-header">
        <h1>ğŸ“š AnotherX ğŸ“š</h1>
    </header>
    
    <div class="container">
        <div class="library-content">
            <div class="bookshelf">
                <h2>ç¬¬1ç« </h2>
                <div class="episodes-list">
                    <div class="episode-card" data-episode="1" data-title="æ—…è·¯">
                        <div class="episode-number">Episode 1</div>
                        <h3>æ—…è·¯</h3>
                    </div>
                    <div class="episode-card" data-episode="2" data-title="æ£®ã§ã®æˆ¦ã„">
                        <div class="episode-number">Episode 2</div>
                        <h3>æ£®ã§ã®æˆ¦ã„</h3>
                    </div>
                    <div class="episode-card" data-episode="3" data-title="ãƒ”ãƒ³ã‚¯é«ªã®å¥³ã®å­">
                        <div class="episode-number">Episode 3</div>
                        <h3>ãƒ”ãƒ³ã‚¯é«ªã®å¥³ã®å­</h3>
                    </div>
                    <div class="episode-card" data-episode="4" data-title="ãƒ¢ãƒ">
                        <div class="episode-number">Episode 4</div>
                        <h3>ãƒ¢ãƒ</h3>
                    </div>
                    <div class="episode-card" data-episode="5" data-title="æ¸“è°·ã®ã‹ãã‚Œã‚“ã¼">
                        <div class="episode-number">Episode 5</div>
                        <h3>æ¸“è°·ã®ã‹ãã‚Œã‚“ã¼</h3>
                    </div>
                    <div class="episode-card" data-episode="6" data-title="ãƒ¢ãƒªã®æ‘">
                        <div class="episode-number">Episode 6</div>
                        <h3>ãƒ¢ãƒªã®æ‘</h3>
                    </div>
                    <div class="episode-card" data-episode="6.5" data-title="å¯é¡”">
                        <div class="episode-number">Episode 6.5</div>
                        <h3>å¯é¡”</h3>
                    </div>
                    <div class="episode-card" data-episode="7" data-title="éºè·¡ã«å·£é£Ÿã†ã‚‚ã®">
                        <div class="episode-number">Episode 7</div>
                        <h3>éºè·¡ã«å·£é£Ÿã†ã‚‚ã®</h3>
                    </div>
                    <div class="episode-card" data-episode="8" data-title="æ´çªŸã«æ½œã‚€ã‚‚ã®">
                        <div class="episode-number">Episode 8</div>
                        <h3>æ´çªŸã«æ½œã‚€ã‚‚ã®</h3>
                    </div>
                    <div class="episode-card" data-episode="9" data-title="è–¬å­¦ã®å¿ƒå¾—">
                        <div class="episode-number">Episode 9</div>
                        <h3>è–¬å­¦ã®å¿ƒå¾—</h3>
                    </div>
                    <div class="episode-card" data-episode="10" data-title="ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯æˆ¦">
                        <div class="episode-number">Episode 10</div>
                        <h3>ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯æˆ¦</h3>
                    </div>
                    <div class="episode-card" data-episode="11" data-title="æ€ªé³¥ã¨ç•°å¤‰">
                        <div class="episode-number">Episode 11</div>
                        <h3>æ€ªé³¥ã¨ç•°å¤‰</h3>
                    </div>
                    <div class="episode-card" data-episode="12" data-title="ãƒãƒ³ã®ä½œæˆ¦">
                        <div class="episode-number">Episode 12</div>
                        <h3>ãƒãƒ³ã®ä½œæˆ¦</h3>
                    </div>
                    <div class="episode-card" data-episode="13" data-title="ã‚¨ãƒ¼ãƒ†ãƒ«">
                        <div class="episode-number">Episode 13</div>
                        <h3>ã‚¨ãƒ¼ãƒ†ãƒ«</h3>
                    </div>
                </div>
            </div>
            <div class="content-panel">
                <div class="no-content">
                    <img src="../../source/AnotherX/ã‚¢ãƒŠã‚¶ãƒ¼ã‚¯ãƒ­ã‚¹_ã‚µãƒ ãƒã‚¤ãƒ«.png" alt="AnotherX ã‚µãƒ ãƒã‚¤ãƒ«" class="thumbnail-image">
                    <p class="novel-description">AnotherXã¯é•·ç·¨ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ã®ãƒ†ãƒ­ãƒƒãƒ—å½¢å¼ã§èª­ã‚€å°èª¬ã§ã™</p>
                    <h2>ğŸ“– å·¦ã®ãƒªã‚¹ãƒˆã‹ã‚‰ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„</h2>
                </div>
            </div>
        </div>
    </div>

    <div class="external-links-section">
        <div class="container">
            <h3>ğŸ“– ã™ã¹ã¦ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã®å…¬é–‹ã‚µã‚¤ãƒˆ</h3>
            <div class="link-container">
                <a href="https://note.com/yuuenchi/n/n8f222e18e395" target="_blank" class="external-link">
                    <span class="link-icon">ğŸ‡¯ğŸ‡µ</span>
                    <span class="link-text">æ—¥æœ¬èªç‰ˆï¼ˆnoteï¼‰</span>
                </a>
                <a href="https://medium.com/fantasy-novel-anotherx/fantasy-novel-anotherx-f95eb90925bb" target="_blank" class="external-link">
                    <span class="link-icon">ğŸ‡ºğŸ‡¸</span>
                    <span class="link-text">è‹±èªç‰ˆï¼ˆMediumï¼‰</span>
                </a>
            </div>
        </div>
    </div>

    <div class="world-map-section">
        <div class="container">
            <h3>ğŸ—ºï¸ World Map Miruze</h3>
            <p class="world-map-description">illustration by kuroro</p>
            <div class="world-map-container">
                <img src="../../source/AnotherX/miruze_map.jpg" alt="World Map Miruze" class="world-map-image">
            </div>
        </div>
    </div>

    <div class="gallery-section">
        <div class="container">
            <h3>ğŸ–¼ï¸ Kuroro Gallery</h3>
            <div class="gallery-grid">
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_01_ç„šç«_AnotherX_ãã‚ã‚.jpg', 'ç„šç«')">
                    <img src="../../source/AnotherX/Gallery/01_01_ç„šç«_AnotherX_ãã‚ã‚.jpg" alt="ç„šç«" loading="lazy">
                    <div class="gallery-caption">ç„šç«</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_02_ãã®ã“_AnotherX_ãã‚ã‚.jpg', 'ãã®ã“')">
                    <img src="../../source/AnotherX/Gallery/01_02_ãã®ã“_AnotherX_ãã‚ã‚.jpg" alt="ãã®ã“" loading="lazy">
                    <div class="gallery-caption">ãã®ã“</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_02_ã‚´ãƒ–ãƒªãƒ³_AnotherX_ãã‚ã‚.jpg', 'ã‚´ãƒ–ãƒªãƒ³')">
                    <img src="../../source/AnotherX/Gallery/01_02_ã‚´ãƒ–ãƒªãƒ³_AnotherX_ãã‚ã‚.jpg" alt="ã‚´ãƒ–ãƒªãƒ³" loading="lazy">
                    <div class="gallery-caption">ã‚´ãƒ–ãƒªãƒ³</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_03_ãƒãƒ³_AnotherX_ãã‚ã‚.jpg', 'ãƒãƒ³')">
                    <img src="../../source/AnotherX/Gallery/01_03_ãƒãƒ³_AnotherX_ãã‚ã‚.jpg" alt="ãƒãƒ³" loading="lazy">
                    <div class="gallery-caption">ãƒãƒ³</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_04_é‹_AnotherX_ãã‚ã‚.jpg', 'é‹')">
                    <img src="../../source/AnotherX/Gallery/01_04_é‹_AnotherX_ãã‚ã‚.jpg" alt="é‹" loading="lazy">
                    <div class="gallery-caption">é‹</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_04_æ–™ç†_AnotherX_ãã‚ã‚.jpg', 'æ–™ç†')">
                    <img src="../../source/AnotherX/Gallery/01_04_æ–™ç†_AnotherX_ãã‚ã‚.jpg" alt="æ–™ç†" loading="lazy">
                    <div class="gallery-caption">æ–™ç†</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_05_ãƒ¢ãƒç™½_AnotherX_ãã‚ã‚.jpg', 'ãƒ¢ãƒï¼ˆç™½ï¼‰')">
                    <img src="../../source/AnotherX/Gallery/01_05_ãƒ¢ãƒç™½_AnotherX_ãã‚ã‚.jpg" alt="ãƒ¢ãƒï¼ˆç™½ï¼‰" loading="lazy">
                    <div class="gallery-caption">ãƒ¢ãƒï¼ˆç™½ï¼‰</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_05_ãƒ¢ãƒé»’_AnotherX_ãã‚ã‚.jpg', 'ãƒ¢ãƒï¼ˆé»’ï¼‰')">
                    <img src="../../source/AnotherX/Gallery/01_05_ãƒ¢ãƒé»’_AnotherX_ãã‚ã‚.jpg" alt="ãƒ¢ãƒï¼ˆé»’ï¼‰" loading="lazy">
                    <div class="gallery-caption">ãƒ¢ãƒï¼ˆé»’ï¼‰</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_10_ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯_AnotherX_ãã‚ã‚.jpg', 'ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯')">
                    <img src="../../source/AnotherX/Gallery/01_10_ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯_AnotherX_ãã‚ã‚.jpg" alt="ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯" loading="lazy">
                    <div class="gallery-caption">ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/01_10_ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯æˆ¦_AnotherX_ãã‚ã‚.jpg', 'ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯æˆ¦')">
                    <img src="../../source/AnotherX/Gallery/01_10_ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯æˆ¦_AnotherX_ãã‚ã‚.jpg" alt="ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯æˆ¦" loading="lazy">
                    <div class="gallery-caption">ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯æˆ¦</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/02_15_ãƒãƒŠæ—_ãã‚ã‚.jpg', 'ãƒãƒŠæ—')">
                    <img src="../../source/AnotherX/Gallery/02_15_ãƒãƒŠæ—_ãã‚ã‚.jpg" alt="ãƒãƒŠæ—" loading="lazy">
                    <div class="gallery-caption">ãƒãƒŠæ—</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/02_16_ã‚½ã‚¦ã‚²ãƒ³æ‘_ã‚·ãƒ³_ãã‚ã‚.jpg', 'ã‚½ã‚¦ã‚²ãƒ³æ‘ï¼ˆã‚·ãƒ³ï¼‰')">
                    <img src="../../source/AnotherX/Gallery/02_16_ã‚½ã‚¦ã‚²ãƒ³æ‘_ã‚·ãƒ³_ãã‚ã‚.jpg" alt="ã‚½ã‚¦ã‚²ãƒ³æ‘ï¼ˆã‚·ãƒ³ï¼‰" loading="lazy">
                    <div class="gallery-caption">ã‚½ã‚¦ã‚²ãƒ³æ‘ï¼ˆã‚·ãƒ³ï¼‰</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/02_18_ä¼æ¡ç”¨æ–§_ãã‚ã‚.jpg', 'ä¼æ¡ç”¨æ–§')">
                    <img src="../../source/AnotherX/Gallery/02_18_ä¼æ¡ç”¨æ–§_ãã‚ã‚.jpg" alt="ä¼æ¡ç”¨æ–§" loading="lazy">
                    <div class="gallery-caption">ä¼æ¡ç”¨æ–§</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/02_20_ã‚¿ãƒˆã‚¥ãƒ›ãƒ¼ãƒ³ã®è§’_ãã‚ã‚.jpg', 'ã‚¿ãƒˆã‚¥ãƒ›ãƒ¼ãƒ³ã®è§’')">
                    <img src="../../source/AnotherX/Gallery/02_20_ã‚¿ãƒˆã‚¥ãƒ›ãƒ¼ãƒ³ã®è§’_ãã‚ã‚.jpg" alt="ã‚¿ãƒˆã‚¥ãƒ›ãƒ¼ãƒ³ã®è§’" loading="lazy">
                    <div class="gallery-caption">ã‚¿ãƒˆã‚¥ãƒ›ãƒ¼ãƒ³ã®è§’</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/03_28.5_æ³•èºè².jpg', 'æ³•èºè²')">
                    <img src="../../source/AnotherX/Gallery/03_28.5_æ³•èºè².jpg" alt="æ³•èºè²" loading="lazy">
                    <div class="gallery-caption">æ³•èºè²</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/03_33_é›£ç ´èˆ¹.jpg', 'é›£ç ´èˆ¹')">
                    <img src="../../source/AnotherX/Gallery/03_33_é›£ç ´èˆ¹.jpg" alt="é›£ç ´èˆ¹" loading="lazy">
                    <div class="gallery-caption">é›£ç ´èˆ¹</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/03_34_è¨˜æ†¶ã®æ°´å…µ.jpg', 'è¨˜æ†¶ã®æ°´å…µ')">
                    <img src="../../source/AnotherX/Gallery/03_34_è¨˜æ†¶ã®æ°´å…µ.jpg" alt="è¨˜æ†¶ã®æ°´å…µ" loading="lazy">
                    <div class="gallery-caption">è¨˜æ†¶ã®æ°´å…µ</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/ãƒ‘ãƒ³.jpg', 'ãƒ‘ãƒ³')">
                    <img src="../../source/AnotherX/Gallery/ãƒ‘ãƒ³.jpg" alt="ãƒ‘ãƒ³" loading="lazy">
                    <div class="gallery-caption">ãƒ‘ãƒ³</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/çš¿.jpg', 'çš¿')">
                    <img src="../../source/AnotherX/Gallery/çš¿.jpg" alt="çš¿" loading="lazy">
                    <div class="gallery-caption">çš¿</div>
                </div>
                <div class="gallery-item" onclick="openLightbox('../../source/AnotherX/Gallery/éº¦.jpg', 'éº¦')">
                    <img src="../../source/AnotherX/Gallery/éº¦.jpg" alt="éº¦" loading="lazy">
                    <div class="gallery-caption">éº¦</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ãƒ©ã‚¤ãƒˆãƒœãƒƒã‚¯ã‚¹ -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <div class="lightbox-content" onclick="event.stopPropagation()">
            <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
            <img id="lightbox-image" src="" alt="">
            <div id="lightbox-caption"></div>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 ã‚†ã†ãˆã‚“ã¡. All Rights Reserved.</p>
    </footer>

    <script src="anotherx-content.js"></script>
    <script>
        // ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®é…å»¶èª­ã¿è¾¼ã¿ç®¡ç†
        let localEpisodeContents = null;
        let isLoadingContent = false;
        let loadedEpisodes = new Set();

        // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚¡ã‚¤ãƒ«ã®é…å»¶èª­ã¿è¾¼ã¿
        async function loadEpisodeContent() {
            if (localEpisodeContents) return localEpisodeContents;
            
            try {
                isLoadingContent = true;
                console.log('ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’èª­ã¿è¾¼ã¿ä¸­...');
                
                // å‹•çš„ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’èª­ã¿è¾¼ã¿
                const script = document.createElement('script');
                script.src = 'anotherx-content.js';
                script.async = true;
                
                return new Promise((resolve, reject) => {
                    script.onload = () => {
                        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‹ã‚‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—
                        if (typeof episodeContents !== 'undefined') {
                            localEpisodeContents = episodeContents;
                            console.log('ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®èª­ã¿è¾¼ã¿å®Œäº†');
                            isLoadingContent = false;
                            resolve(localEpisodeContents);
                        } else {
                            reject(new Error('ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ'));
                        }
                    };
                    script.onerror = () => reject(new Error('ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ'));
                    document.head.appendChild(script);
                });
            } catch (error) {
                console.error('ã‚³ãƒ³ãƒ†ãƒ³ãƒ„èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
                isLoadingContent = false;
                throw error;
            }
        }

        // ç‰¹å®šã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å–å¾—
        async function getEpisodeContent(episode) {
            if (!localEpisodeContents) {
                await loadEpisodeContent();
            }
            return localEpisodeContents[episode];
        }

        document.addEventListener('DOMContentLoaded', function() {
            const episodeCards = document.querySelectorAll('.episode-card');
            const chapters = [
                {
                    title: 'ç¬¬1ç« ',
                    episodes: [
                        { num: '1', title: 'æ—…è·¯' },
                        { num: '2', title: 'æ£®ã§ã®æˆ¦ã„' },
                        { num: '3', title: 'ãƒ”ãƒ³ã‚¯é«ªã®å¥³ã®å­' },
                        { num: '4', title: 'ãƒ¢ãƒ' },
                        { num: '5', title: 'æ¸“è°·ã®ã‹ãã‚Œã‚“ã¼' },
                        { num: '6', title: 'ãƒ¢ãƒªã®æ‘' },
                        { num: '6.5', title: 'å¯é¡”' },
                        { num: '7', title: 'éºè·¡ã«å·£é£Ÿã†ã‚‚ã®' },
                        { num: '8', title: 'æ´çªŸã«æ½œã‚€ã‚‚ã®' },
                        { num: '9', title: 'è–¬å­¦ã®å¿ƒå¾—' },
                        { num: '10', title: 'ã‚²ãƒªãƒ©ãƒ›ãƒ¼ã‚¯æˆ¦' },
                        { num: '11', title: 'æ€ªé³¥ã¨ç•°å¤‰' },
                        { num: '12', title: 'ãƒãƒ³ã®ä½œæˆ¦' },
                        { num: '13', title: 'ã‚¨ãƒ¼ãƒ†ãƒ«' }
                    ]
                },
                {
                    title: 'ç¬¬2ç« ',
                    episodes: [
                        { num: '14', title: 'è¡Œå•†äºº' },
                        { num: '15', title: 'ãƒãƒŠæ—' },
                        { num: '16', title: 'ã‚½ã‚¦ã‚²ãƒ³æ‘' },
                        { num: '17_main', title: 'ãƒŸãƒ‰ãƒªã•ã‚“å®¶ã«ã¦' },
                        { num: '17_sub', title: 'ç¬›ã®éŸ³ã¨æ­£ã—ã•ã®æ„å‘³' },
                        { num: '18', title: 'å±é™ºãªçŸ¥ã‚‰ã›' },
                        { num: '19', title: 'ã‚¿ãƒˆã‚¥ãƒ›ãƒ¼ãƒ³æˆ¦' },
                        { num: '20', title: 'æˆ¦åˆ©å“' },
                        { num: '21', title: 'ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ' },
                        { num: '22', title: 'ã‚¯ãƒ­ã‚¦' },
                        { num: '23', title: 'ä½ç›¸åè»¢' },
                        { num: '24', title: 'çŒªè‚‰ç¥­ã‚Šï½ç¬›ã®éŸ³ã¨å…±ã«ï½' }
                    ]
                }
            ];
            let currentChapter = 0;
            let contentPanel = document.querySelector('.content-panel');
            const chapterTitle = document.querySelector('.bookshelf h2');
            const episodesList = document.querySelector('.episodes-list');

            function renderChapter(chapterIdx) {
                // ç« ã‚¿ã‚¤ãƒˆãƒ«æ›´æ–°
                chapterTitle.textContent = chapters[chapterIdx].title;
                // ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ãƒªã‚¹ãƒˆæ›´æ–°
                episodesList.innerHTML = '';
                chapters[chapterIdx].episodes.forEach(ep => {
                    const card = document.createElement('div');
                    card.className = 'episode-card';
                    card.setAttribute('data-episode', ep.num);
                    card.setAttribute('data-title', ep.title);
                    card.innerHTML = `<div class="episode-number">Episode ${ep.num}</div><h3>${ep.title}</h3>`;
                    card.addEventListener('click', async function() {
                        document.querySelectorAll('.episode-card').forEach(c => c.classList.remove('active'));
                        card.classList.add('active');
                        await loadContent(ep.num, ep.title);
                        window.currentEpisode = ep.num;
                    });
                    episodesList.appendChild(card);
                });
            }

            // ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯æ™‚ã®å‡¦ç†
            episodeCards.forEach(card => {
                card.addEventListener('click', async function() {
                    // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
                    episodeCards.forEach(c => c.classList.remove('active'));
                    
                    // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚«ãƒ¼ãƒ‰ã«ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
                    this.classList.add('active');
                    
                    // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è¡¨ç¤º
                    const episode = this.getAttribute('data-episode');
                    const title = this.getAttribute('data-title');
                    await loadContent(episode, title);
                    
                    // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’æ›´æ–°
                    window.currentEpisode = parseInt(episode);
                });
            });

            // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ 
            document.addEventListener('keydown', function(event) {
                // ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿ã‚­ãƒ¼æ“ä½œã‚’æœ‰åŠ¹ã«ã™ã‚‹
                if (window.currentEpisode && window.totalPages) {
                    if (event.key === 'ArrowLeft') {
                        // å·¦çŸ¢å°ã‚­ãƒ¼ã§å‰ã®ãƒšãƒ¼ã‚¸
                        event.preventDefault();
                        changePage(-1);
                    } else if (event.key === 'ArrowRight') {
                        // å³çŸ¢å°ã‚­ãƒ¼ã§æ¬¡ã®ãƒšãƒ¼ã‚¸
                        event.preventDefault();
                        changePage(1);
                    }
                }
                
                // ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆï¼ˆCtrl + çŸ¢å°ã‚­ãƒ¼ï¼‰
                if (event.ctrlKey && window.currentEpisode) {
                    if (event.key === 'ArrowLeft') {
                        // Ctrl + å·¦çŸ¢å°ã‚­ãƒ¼ã§å‰ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰
                        event.preventDefault();
                        changeEpisode(-1);
                    } else if (event.key === 'ArrowRight') {
                        // Ctrl + å³çŸ¢å°ã‚­ãƒ¼ã§æ¬¡ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰
                        event.preventDefault();
                        changeEpisode(1);
                    }
                }
            });

            // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤ºé–¢æ•°ï¼ˆéåŒæœŸç‰ˆï¼‰
            async function loadContent(episode, title) {
                if (!contentPanel) return;
                
                try {
                    console.log(`ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ ${episode} ã®èª­ã¿è¾¼ã¿é–‹å§‹`);
                    
                    // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
                    contentPanel.innerHTML = `
                        <div class="loading-content">
                            <div class="loading-spinner"></div>
                            <p>ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
                        </div>
                    `;
                    
                    const episodeData = await getEpisodeContent(episode);
                    console.log(`ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ ${episode} ã®ãƒ‡ãƒ¼ã‚¿:`, episodeData);
                    
                    const maxEpisode = chapters[currentChapter].episodes[chapters[currentChapter].episodes.length - 1].num;
                    
                    if (episodeData) {
                        // ãƒ†ã‚­ã‚¹ãƒˆã‚’ç©ºè¡Œã§åˆ†å‰²
                        const pages = episodeData.content.split('\n\n').filter(page => page.trim() !== '');
                        console.log(`ãƒšãƒ¼ã‚¸æ•°: ${pages.length}`);
                        
                        let pagesHTML = '';
                        pages.forEach((page, index) => {
                            pagesHTML += `
                                <div class="page ${index === 0 ? 'active' : ''}" data-page="${index}">
                                    <div class="page-content">${page.trim()}</div>
                                </div>
                            `;
                        });
                        
                        contentPanel.innerHTML = `
                            <div class="content-text">
                                <div class="left-column">
                                    <img src="../../source/AnotherX/ãƒ¢ãƒ.png" alt="ãƒ¢ãƒ" class="title-image">
                                    <div class="auto-control">
                                        <div class="auto-container">
                                            <button id="auto-button" class="auto-button" onclick="toggleAuto()">
                                                <span class="auto-icon">â–¶</span>
                                                <span class="auto-text">Auto</span>
                                            </button>
                                            <div class="auto-timer">
                                                <input type="number" id="auto-interval" class="auto-input" value="3.0" min="0.1" max="60.0" step="0.1">
                                                <div class="auto-buttons">
                                                    <button class="auto-up" onclick="adjustInterval(0.1)">â–²</button>
                                                    <button class="auto-down" onclick="adjustInterval(-0.1)">â–¼</button>
                                                </div>
                                                <span class="auto-unit">ç§’</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="page-info">
                                        <span id="current-page">1</span> / <span id="total-pages">${pages.length}</span>
                                    </div>
                                </div>
                                <div class="right-column">
                                    <h2 class="episode-title">${episodeData.title}</h2>
                                    <div class="page-container">
                                        ${pagesHTML}
                                        <div class="page-navigation">
                                            <button class="nav-button" id="prev-page" onclick="changePage(-1)" disabled>
                                                â€¹
                                            </button>
                                            <button class="nav-button" id="next-page" onclick="changePage(1)" ${pages.length <= 1 ? 'disabled' : ''}>
                                                â€º
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="episode-navigation">
                                <button class="episode-nav-button" id="prev-episode" onclick="changeEpisode(-1)" ${episode == chapters[currentChapter].episodes[0].num ? 'disabled' : ''}>
                                    â† å‰ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰
                                </button>
                                <div class="episode-nav-info">
                                    Episode ${episode} / ${maxEpisode}
                                </div>
                                <button class="episode-nav-button" id="next-episode" onclick="changeEpisode(1)" ${episode == maxEpisode ? 'disabled' : ''}>
                                    æ¬¡ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ â†’
                                </button>
                            </div>
                        `;
                        
                        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã«ãƒšãƒ¼ã‚¸æƒ…å ±ã‚’ä¿å­˜
                        window.currentPageIndex = 0;
                        window.totalPages = pages.length;
                        
                        // è‡ªå‹•å†ç”Ÿã‚’åœæ­¢
                        if (autoInterval) {
                            toggleAuto();
                        }
                        
                        // æ™‚é–“è¨­å®šãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¨­å®š
                        setTimeout(() => {
                            const intervalInput = document.getElementById('auto-interval');
                            if (intervalInput) {
                                intervalInput.addEventListener('input', function() {
                                    // è‡ªå‹•å†ç”Ÿä¸­ã®å ´åˆã€æ–°ã—ã„é–“éš”ã§å†è¨­å®š
                                    if (autoInterval) {
                                        toggleAuto(); // ä¸€åº¦åœæ­¢
                                        setTimeout(() => {
                                            toggleAuto(); // æ–°ã—ã„é–“éš”ã§å†é–‹
                                        }, 100);
                                    }
                                });
                            }
                        }, 100);
                        
                        // èª­ã¿è¾¼ã¿æ¸ˆã¿ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã¨ã—ã¦è¨˜éŒ²
                        loadedEpisodes.add(episode);
                        console.log(`ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ ${episode} ã®èª­ã¿è¾¼ã¿å®Œäº†`);
                        
                    } else {
                        console.log(`ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ ${episode} ã®ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`);
                        contentPanel.innerHTML = `
                            <h2>${title}</h2>
                            <div class="no-content">
                                <p>ã“ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</p>
                            </div>
                        `;
                    }
                } catch (error) {
                    console.error('ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
                    contentPanel.innerHTML = `
                        <div class="error-content">
                            <h2>${title}</h2>
                            <p>ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>
                            <button onclick="loadContent('${episode}', '${title}')" class="retry-button">å†è©¦è¡Œ</button>
                        </div>
                    `;
                }
            }

            // ãƒšãƒ¼ã‚¸ã‚ãã‚Šé–¢æ•°
            window.changePage = function(direction) {
                const pages = document.querySelectorAll('.page');
                const prevButton = document.getElementById('prev-page');
                const nextButton = document.getElementById('next-page');
                const currentPageSpan = document.getElementById('current-page');
                
                if (direction === 1 && window.currentPageIndex < window.totalPages - 1) {
                    // æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸
                    const currentPage = pages[window.currentPageIndex];
                    const nextPage = pages[window.currentPageIndex + 1];
                    
                    // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ
                    currentPage.classList.remove('active');
                    currentPage.classList.add('prev');
                    
                    // å°‘ã—é…å»¶ã—ã¦ã‹ã‚‰ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
                    setTimeout(() => {
                        // ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ã®prevã‚¯ãƒ©ã‚¹ã‚’ã‚¯ãƒªã‚¢
                        pages.forEach(page => page.classList.remove('prev'));
                        nextPage.classList.add('active');
                    }, 100);
                    
                    window.currentPageIndex++;
                } else if (direction === -1 && window.currentPageIndex > 0) {
                    // å‰ã®ãƒšãƒ¼ã‚¸ã¸
                    const currentPage = pages[window.currentPageIndex];
                    const prevPage = pages[window.currentPageIndex - 1];
                    
                    // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆ
                    currentPage.classList.remove('active');
                    currentPage.classList.add('prev');
                    
                    // å°‘ã—é…å»¶ã—ã¦ã‹ã‚‰ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
                    setTimeout(() => {
                        // ã™ã¹ã¦ã®ãƒšãƒ¼ã‚¸ã®prevã‚¯ãƒ©ã‚¹ã‚’ã‚¯ãƒªã‚¢
                        pages.forEach(page => page.classList.remove('prev'));
                        prevPage.classList.add('active');
                    }, 100);
                    
                    window.currentPageIndex--;
                }
                
                // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
                prevButton.disabled = window.currentPageIndex === 0;
                nextButton.disabled = window.currentPageIndex === window.totalPages - 1;
                
                // ãƒšãƒ¼ã‚¸ç•ªå·ã‚’æ›´æ–°
                currentPageSpan.textContent = window.currentPageIndex + 1;
            };
            
            // ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆé–¢æ•°
            window.changeEpisode = async function(direction) {
                const currentEpisode = parseInt(window.currentEpisode || 1);
                const newEpisode = currentEpisode + direction;
                
                if (newEpisode >= 1 && newEpisode <= 14) {
                    // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰ã‚’æ›´æ–°
                    episodeCards.forEach(c => c.classList.remove('active'));
                    const targetCard = document.querySelector(`[data-episode="${newEpisode}"]`);
                    if (targetCard) {
                        targetCard.classList.add('active');
                    }
                    
                    // æ–°ã—ã„ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’èª­ã¿è¾¼ã¿
                    const title = targetCard.getAttribute('data-title');
                    await loadContent(newEpisode.toString(), title);
                    
                    // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã‚’æ›´æ–°
                    window.currentEpisode = newEpisode;
                }
            };
            
            // è‡ªå‹•ãƒšãƒ¼ã‚¸ã‚ãã‚Šæ©Ÿèƒ½
            let autoInterval = null;
            
            window.toggleAuto = function() {
                const autoButton = document.getElementById('auto-button');
                const autoIcon = autoButton.querySelector('.auto-icon');
                const autoText = autoButton.querySelector('.auto-text');
                const intervalInput = document.getElementById('auto-interval');
                
                if (autoInterval) {
                    // è‡ªå‹•å†ç”Ÿã‚’åœæ­¢
                    clearInterval(autoInterval);
                    autoInterval = null;
                    autoButton.classList.remove('active');
                    autoIcon.textContent = 'â–¶';
                    autoText.textContent = 'Auto';
                } else {
                    // è‡ªå‹•å†ç”Ÿã‚’é–‹å§‹
                    autoButton.classList.add('active');
                    autoIcon.textContent = 'â¸';
                    autoText.textContent = 'Stop';
                    
                    // è¨­å®šã•ã‚ŒãŸé–“éš”ã§è‡ªå‹•ãƒšãƒ¼ã‚¸ã‚ãã‚Š
                    const interval = parseFloat(intervalInput.value) * 1000; // ç§’ã‚’ãƒŸãƒªç§’ã«å¤‰æ›
                    autoInterval = setInterval(() => {
                        // æœ€å¾Œã®ãƒšãƒ¼ã‚¸ã§ãªã„å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸
                        if (window.currentPageIndex < window.totalPages - 1) {
                            changePage(1);
                        } else {
                            // æœ€å¾Œã®ãƒšãƒ¼ã‚¸ã®å ´åˆã¯è‡ªå‹•å†ç”Ÿã‚’åœæ­¢
                            toggleAuto();
                        }
                    }, interval);
                }
            };
            
            // æ™‚é–“é–“éš”èª¿æ•´æ©Ÿèƒ½
            window.adjustInterval = function(change) {
                const intervalInput = document.getElementById('auto-interval');
                let currentValue = parseFloat(intervalInput.value);
                let newValue = currentValue + change;
                
                // æœ€å°å€¤ã¨æœ€å¤§å€¤ã‚’åˆ¶é™
                newValue = Math.max(0.1, Math.min(60.0, newValue));
                
                // å°æ•°ç‚¹ç¬¬1ä½ã¾ã§è¡¨ç¤º
                intervalInput.value = newValue.toFixed(1);
                
                // è‡ªå‹•å†ç”Ÿä¸­ã®å ´åˆã€æ–°ã—ã„é–“éš”ã§å†è¨­å®š
                if (autoInterval) {
                    toggleAuto(); // ä¸€åº¦åœæ­¢
                    setTimeout(() => {
                        toggleAuto(); // æ–°ã—ã„é–“éš”ã§å†é–‹
                    }, 100);
                }
            };
            

        });
        
        // ãƒ©ã‚¤ãƒˆãƒœãƒƒã‚¯ã‚¹æ©Ÿèƒ½
        function openLightbox(imageSrc, caption) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxCaption = document.getElementById('lightbox-caption');
            
            lightboxImage.src = imageSrc;
            lightboxCaption.textContent = caption;
            lightbox.style.display = 'block';
            
            // ESCã‚­ãƒ¼ã§ãƒ©ã‚¤ãƒˆãƒœãƒƒã‚¯ã‚¹ã‚’é–‰ã˜ã‚‹
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    closeLightbox();
                }
            });
        }
        
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.style.display = 'none';
        }
    </script>

    <!-- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¨ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºç”¨ã®CSS -->
    <style>
        .loading-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error-content {
            text-align: center;
            padding: 2rem;
        }
        
        .retry-button {
            background: linear-gradient(45deg, #4a90e2, #5cb85c);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 1rem;
        }
        
        .retry-button:hover {
            background: linear-gradient(45deg, #5cb85c, #4a90e2);
        }
        
        /* ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .gallery-section {
            background: linear-gradient(135deg, #F5F5DC 0%, #FDF5E6 50%, #F5F5DC 100%);
            border: 3px solid #8B4513;
            border-radius: 12px;
            margin: 2rem auto;
            max-width: 1300px;
            padding: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            position: relative;
        }
        
        .gallery-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #FFD700, #FFA500, #FFD700);
            border-radius: 12px 12px 0 0;
        }
        
        .gallery-section h3 {
            text-align: center;
            color: #8B4513;
            font-size: 1.5rem;
            margin: 0 0 1.5rem 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            font-weight: bold;
            position: relative;
            z-index: 1;
        }
        
        .gallery-section h3::before {
            content: 'ğŸ–¼ï¸';
            margin-right: 0.5rem;
        }
        
        .gallery-description {
            text-align: center;
            color: #8B4513;
            font-size: 1rem;
            margin: 0 0 1.5rem 0;
            font-style: italic;
            opacity: 0.8;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1.5rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            position: relative;
            z-index: 1;
        }
        
        .gallery-item {
            background: linear-gradient(135deg, #8B0000 0%, #DC143C 50%, #8B0000 100%);
            border: 2px solid #654321;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        
        .gallery-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #FFD700, #FFA500, #FFD700);
            z-index: 2;
        }
        
        .gallery-item:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
        }
        
        .gallery-item img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            transition: transform 0.3s ease;
            border-bottom: 2px solid #654321;
        }
        
        .gallery-item:hover img {
            transform: scale(1.02);
        }
        
        .gallery-caption {
            padding: 0.8rem;
            text-align: center;
            font-weight: bold;
            color: white;
            background: linear-gradient(135deg, #D2691E 0%, #FF8C00 50%, #D2691E 100%);
            font-size: 0.9rem;
            position: relative;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .gallery-caption::before {
            content: 'ğŸ“–';
            margin-right: 0.3rem;
        }
        
        /* World Map Miruze ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .world-map-section {
            background: linear-gradient(135deg, #F5F5DC 0%, #FDF5E6 50%, #F5F5DC 100%);
            border: 3px solid #8B4513;
            border-radius: 12px;
            margin: 2rem auto;
            max-width: 1300px;
            padding: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            position: relative;
        }
        
        .world-map-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #FFD700, #FFA500, #FFD700);
            border-radius: 12px 12px 0 0;
        }
        
        .world-map-section h3 {
            text-align: center;
            color: #8B4513;
            font-size: 1.5rem;
            margin: 0 0 1.5rem 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            font-weight: bold;
            position: relative;
            z-index: 1;
        }
        
        .world-map-section h3::before {
            content: 'ğŸ—ºï¸';
            margin-right: 0.5rem;
        }
        
        .world-map-description {
            text-align: center;
            color: #8B4513;
            font-size: 1rem;
            margin: 0 0 1.5rem 0;
            font-style: italic;
            opacity: 0.8;
        }
        
        .world-map-container {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 1;
        }
        
        .world-map-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            border: 2px solid #654321;
            transition: transform 0.3s ease;
        }
        
        .world-map-image:hover {
            transform: scale(1.02);
        }
        
        /* ãƒ©ã‚¤ãƒˆãƒœãƒƒã‚¯ã‚¹ */
        .lightbox {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            backdrop-filter: blur(5px);
        }
        
        .lightbox-content {
            position: relative;
            margin: auto;
            padding: 20px;
            width: 90%;
            max-width: 800px;
            height: 90%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .lightbox-close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 10000;
            transition: color 0.3s ease;
        }
        
        .lightbox-close:hover {
            color: #bbb;
        }
        
        #lightbox-image {
            max-width: 100%;
            max-height: 80%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        #lightbox-caption {
            color: white;
            text-align: center;
            padding: 1rem;
            font-size: 1.2rem;
            font-weight: 600;
            margin-top: 1rem;
        }
        
        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ */
        @media (max-width: 768px) {
            .gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 1rem;
            }
            
            .gallery-item img {
                height: 120px;
            }
            
            .lightbox-content {
                width: 95%;
                height: 95%;
            }
            
            .lightbox-close {
                top: 10px;
                right: 20px;
                font-size: 30px;
            }
        }
    </style>
</body>
</html> 