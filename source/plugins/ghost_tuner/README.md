# Ghost Tuner

## 概要

Ghost Tunerは、入力されたオーディオ信号からピッチを推定し、未来や過去にあるであろう"ゴースト音"を補完して再生する幻想的なエフェクトプラグインです。リアルタイムピッチ推定とゴースト音生成により、独特で不安定な響きを実現します。

## 特徴

### 🎵 **幻想的なサウンド**
- リアルタイムピッチ推定による動的な音響処理
- ゴースト音生成による独特の響き
- 不安定で魅力的なサウンドスケープ

### ⚡ **最適化されたパフォーマンス**
- フリーズ防止機能付き
- 軽量なピッチ推定アルゴリズム
- 効率的なリアルタイム処理
- 低レイテンシー設計

### 🎛️ **直感的なGUI**
- 日本語インターフェース
- 分かりやすいパラメータ配置
- リアルタイムパラメータ調整

### 🔧 **柔軟な設定**
- 6つの主要パラメータ
- 細かい音響調整が可能
- ステレオ・モノラル対応

## 機能

### 1. **リアルタイムピッチ推定**
- 入力音声のピッチをリアルタイムに推定
- 軽量なautocorrelationベースアルゴリズム
- 64サンプルごとの効率的な処理

### 2. **ゴースト音生成**
- 推定ピッチに基づくゴースト音生成
- ピッチシフト機能（0.5〜2.0オクターブ）
- LFOによる変調機能

### 3. **遅延処理**
- 可変遅延ライン（0.001〜1.0秒）
- 効率的なバッファ管理
- 滑らかな遅延効果

### 4. **ミックス機能**
- 原音とゴースト音の混合
- 音量調整機能
- バランス制御

## パラメータ

### **メインコントロール**

#### Mix (原音とゴースト音の混合)
- **範囲**: 0.0 〜 1.0
- **デフォルト**: 0.5
- **説明**: 原音とゴースト音の混合比率を調整します
- **効果**: 0.0 = 原音のみ、1.0 = ゴースト音のみ

#### Ghost Volume (ゴースト音の音量)
- **範囲**: 0.0 〜 1.0
- **デフォルト**: 0.7
- **説明**: ゴースト音の音量を調整します
- **効果**: ゴースト音の存在感を制御

### **タイムコントロール**

#### Delay Time (遅延時間)
- **範囲**: 0.001 〜 1.0 秒
- **デフォルト**: 0.1 秒
- **説明**: ゴースト音の遅延時間を設定します
- **効果**: エコー効果の時間を制御

### **LFOコントロール**

#### LFO Rate (変調速度)
- **範囲**: 0.1 〜 10.0 Hz
- **デフォルト**: 0.5 Hz
- **説明**: LFOの変調速度を調整します
- **効果**: ゴースト音の変調の速さを制御

#### LFO Depth (変調深度)
- **範囲**: 0.0 〜 1.0
- **デフォルト**: 0.1
- **説明**: LFOの変調深度を調整します
- **効果**: ゴースト音の変調の強さを制御

### **ピッチコントロール**

#### Pitch Shift (ピッチシフト)
- **範囲**: 0.5 〜 2.0 オクターブ
- **デフォルト**: 1.0
- **説明**: ゴースト音のピッチシフト量を設定します
- **効果**: 0.5 = 1オクターブ下、2.0 = 1オクターブ上

## 技術仕様

### **対応フォーマット**
- CLAPプラグイン
- VST3プラグイン

### **オーディオ仕様**
- ステレオ入力/出力対応
- モノラル入力/出力対応
- サンプルレート: 44.1kHz 〜 192kHz対応

### **パフォーマンス**
- CPU使用率: 最適化済み
- レイテンシー: 低レイテンシー設計
- メモリ使用量: 軽量設計

### **開発情報**
- **言語**: Rust
- **フレームワーク**: nih-plug
- **GUI**: nih_plug_egui
- **ライセンス**: ISC

## 使用方法

### **ビルド**

```bash
# デバッグビルド
cargo build --package ghost_tuner

# リリースビルド
cargo build --release --package ghost_tuner

# バンドル（配布用ファイル作成）
cargo run --bin xtask -- bundle ghost_tuner --release
```

### **DAWでの使用**

1. **プラグインを読み込み**
   - CLAPまたはVST3プラグインとして読み込み

2. **基本設定**
   - Mix: 0.5（原音とゴースト音のバランス）
   - Ghost Volume: 0.7（ゴースト音の音量）

3. **エフェクト調整**
   - Delay Time: 0.1秒（遅延時間）
   - LFO Rate: 0.5Hz（変調速度）
   - LFO Depth: 0.1（変調深度）
   - Pitch Shift: 1.0（ピッチシフト）

4. **音響調整**
   - 各パラメータを調整して好みのサウンドを作成
   - リアルタイムで効果を確認

## 推奨設定

### **幻想的なサウンド**
- Mix: 0.6
- Ghost Volume: 0.8
- Delay Time: 0.2秒
- LFO Rate: 0.3Hz
- LFO Depth: 0.2
- Pitch Shift: 1.2

### **エコー効果**
- Mix: 0.4
- Ghost Volume: 0.6
- Delay Time: 0.3秒
- LFO Rate: 0.1Hz
- LFO Depth: 0.05
- Pitch Shift: 1.0

### **不安定なサウンド**
- Mix: 0.7
- Ghost Volume: 0.9
- Delay Time: 0.05秒
- LFO Rate: 2.0Hz
- LFO Depth: 0.5
- Pitch Shift: 0.8

## トラブルシューティング

### **DAWがフリーズする場合**
- プラグインの最適化版を使用してください
- CPU使用率が高い場合は、パラメータを控えめに調整してください

### **音が歪む場合**
- Ghost Volumeを下げてください
- Mixを調整してください

### **レイテンシーが高い場合**
- リリースビルドを使用してください
- バッファサイズを調整してください

## 開発者情報

### **作者**
- yuure (yuuenchi)

### **バージョン**
- 0.1.0

### **URL**
- https://yuuenchi.com

### **ライセンス**
- ISC License

## 更新履歴

### **v0.1.0**
- 初回リリース
- リアルタイムピッチ推定機能
- ゴースト音生成機能
- 最適化されたGUI
- フリーズ防止機能

---

**Ghost Tuner** - 幻想的なゴースト音を生成するエフェクトプラグイン 