# Tone Shaper

XYパッドで操作する簡易トーンシェイパープラグイン

## 🎛️ 概要

Tone Shaperは、XYパッドを使用して低域と高域のゲインを直感的に制御できるオーディオエフェクトプラグインです。ミックス全体のトーンを素早く調整したい場合に最適です。

## ✨ 主な特徴

### 🎯 **直感的なXYパッド操作**
- **X軸**: 低域ゲイン（-12dB 〜 +12dB）
- **Y軸**: 高域ゲイン（-12dB 〜 +12dB）
- **中心点**: 両方とも0dB（フラット）
- **ドラッグ操作**: マウスで直感的にトーン調整
- **右クリック**: 中央位置（0dB）にリセット

### 🎚️ **5つのプリセット周波数帯域**
- **Standard**: 200Hz/2kHz（標準的な調整）
- **Bass Heavy**: 100Hz/1kHz（低域重視）
- **Bright**: 400Hz/4kHz（高域重視）
- **Warm**: 150Hz/3kHz（暖かい音色）
- **Aggressive**: 300Hz/6kHz（攻撃的な音色）

### 🎚️ **2バンドシェルビングEQ**
- **低域フィルター**: プリセットに応じて100Hz〜400Hz
- **高域フィルター**: プリセットに応じて1kHz〜6kHz
- **軽量処理**: IIRフィルターでCPU負荷を最小化

### 🎧 **ステレオ対応**
- **独立処理**: 左右チャンネル別々にフィルター適用
- **モノ対応**: モノラル音源にも対応

## 📊 パラメータ仕様

| パラメータ名 | 範囲 | デフォルト値 | 周波数 | 説明 |
|-------------|------|-------------|--------|------|
| Low Gain | -12.0 〜 +12.0 dB | 0.0 dB | プリセット依存 | 低域のゲイン調整 |
| High Gain | -12.0 〜 +12.0 dB | 0.0 dB | プリセット依存 | 高域のゲイン調整 |
| Preset | 0〜4 | 0 | - | 周波数帯域のプリセット |

## 🎨 GUI機能

### **視覚的フィードバック**
- **十字カーソル**: 現在のXY位置を白い十字で表示
- **中心線**: 0dB位置をグレーの線で表示
- **数値表示**: リアルタイムでパラメータ値を表示
- **軸ラベル**: X軸（Low Gain）、Y軸（High Gain）を明示
- **プリセットメニュー**: 5つの周波数帯域プリセットを選択可能

### **ウィンドウサイズ**
- **最適化**: 400×350ピクセルでコンパクト設計
- **レスポンシブ**: プラグインウィンドウに適応

## 🔧 技術仕様

### **DSP処理**
- **フィルター**: IIRシェルビングフィルター
- **処理方式**: リアルタイム処理
- **更新頻度**: パラメータ変更時にフィルター係数を更新
- **ステレオ処理**: 左右チャンネル独立

### **プラグイン仕様**
- **フォーマット**: VST3, CLAP
- **フレームワーク**: Rust + nih-plug
- **GUI**: egui（ui.interact使用）
- **サンプリングレート**: 44.1kHz対応
- **チャンネル**: モノ/ステレオ対応

## 🎵 使用シーン

### **ミックス調整**
- **低域の調整**: キックやベースの存在感を調整
- **高域の調整**: ハイハットやシンバルの明度を調整
- **全体のバランス**: ミックス全体のトーンを素早く調整

### **マスタリング**
- **最終調整**: マスター前の最終的なトーン調整
- **周波数バランス**: 低域と高域のバランスを微調整

## 🚀 ビルド方法

```bash
# ワークスペースに追加
cd /path/to/Audioplugins
# Cargo.tomlのworkspace.membersに"plugins/ToneShaper"を追加

# コンパイル
cargo check -p ToneShaper

# バンドル作成
cd plugins/nih-plug
cargo xtask bundle ToneShaper --release
```

## 📦 生成ファイル

- `ToneShaper.clap` - CLAPプラグイン
- `ToneShaper.vst3` - VST3プラグイン

## 🔍 トラブルシューティング

### **エフェクトが効かない場合**
- パラメータ値が0dBになっていないか確認
- XYパッドの中心から外れているか確認
- DAWのプラグイン設定を確認

### **音が歪む場合**
- ゲイン値を-12dB〜+12dBの範囲内に調整
- 入力レベルが適切か確認

## 📄 ライセンス

ISC License

## 👨‍💻 作者

yuuenchi

## 📈 バージョン履歴

### v0.1.0
- 初期リリース
- XYパッドによる2バンドシェルビングEQ
- VST3/CLAP対応
- ステレオ処理対応
- 5つのプリセット周波数帯域
- 右クリックで中央リセット機能 